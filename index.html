<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Committee Quick Actions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .buttons-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-bottom: 15px;
        }
        button {
            padding: 10px 12px;
            font-size: 14px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            transition: 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        .selected {
            background-color: #28a745 !important;
        }
        .log {
            margin-top: 15px;
            padding: 10px;
            border: 1px solid #ddd;
            width: 90%;
            max-width: 600px;
            min-height: 50px;
            background: #f9f9f9;
            font-size: 16px;
            text-align: left;
            overflow-y: auto;
            transition: background 0.3s;
        }
        .log.copied {
            background: #d4edda;
        }
        .copy-btn {
            margin-top: 10px;
            background-color: #dc3545;
        }
        .copy-btn:hover {
            background-color: #c82333;
        }
        .section {
            width: 90%;
            max-width: 600px;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            background: #f1f1f1;
            text-align: center;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <h2>Committee Quick Actions</h2>

    <div class="container">
        <label for="committeeSelect"><b>Select Committee:</b></label>
        <select id="committeeSelect" onchange="updateMembers()">
            <option value="energy">Energy & Natural Resources</option>
            <option value="judiciary">Judiciary</option>
        </select>

        <h3>Select Member:</h3>
        <div class="buttons-container" id="members-container"></div>

        <div class="section">
            <h3>Main Actions</h3>
            <div class="buttons-container">
                <button onclick="setMainAction(this, 'Moved')">Moved</button>
                <button onclick="setMainAction(this, 'Roll Call Vote')">Roll Call Vote</button>
            </div>
        </div>

        <div class="section hidden" id="sub-actions">
            <h3>Sub Actions</h3>
            <div class="buttons-container" id="sub-actions-container"></div>
        </div>

        <div class="section hidden" id="bill-type-section">
            <h3>Select Bill Type</h3>
            <div class="buttons-container">
                <button onclick="appendSubAction(this, 'on SB')">on SB</button>
                <button onclick="appendSubAction(this, 'on HB')">on HB</button>
                <button onclick="appendSubAction(this, 'on Amendment LC#')">on Amendment LC#</button>
            </div>
        </div>

        <div class="section hidden" id="roll-call-section">
            <h3>Roll Call Vote Counts</h3>
            <div class="buttons-container">
                <button onclick="adjustVote('for', 1)">For +1</button>
                <button onclick="adjustVote('against', 1)">Against +1</button>
                <button onclick="adjustVote('neutral', 1)">Neutral +1</button>
            </div>
            <p>For: <span id="vote-for">0</span>, Against: <span id="vote-against">0</span>, Neutral: <span id="vote-neutral">0</span></p>
        </div>

        <div class="section hidden" id="bill-carrier-section">
            <h3>Select Bill Carrier</h3>
            <div class="buttons-container" id="bill-carrier-container"></div>
        </div>

        <div class="section">
            <h3>Meeting Actions</h3>
            <div class="buttons-container">
                <button onclick="appendMeetingAction('Closed Hearing')">Closed Hearing</button>
                <button onclick="appendMeetingAction('Recessed Meeting')">Recessed Meeting</button>
                <button onclick="appendMeetingAction('Adjourned Meeting')">Adjourned Meeting</button>
                <button onclick="appendMeetingAction('Reconvened Meeting')">Reconvened Meeting</button>
            </div>
        </div>

        <button class="copy-btn" onclick="copyToClipboard()">ðŸ“‹ Copy to Clipboard (Ctrl + Enter)</button>

        <h3>Constructed Statement:</h3>
        <div class="log" id="log">[Click a member and an action]</div>
    </div>

    <script>
        let selectedMember = "";
        let constructedStatement = "";
        let voteCounts = { for: 0, against: 0, neutral: 0 };

        function updateMembers() {
            const membersContainer = document.getElementById("members-container");
            membersContainer.innerHTML = "";
            ["Senator A", "Senator B", "Senator C"].forEach(member => {
                const btn = document.createElement("button");
                btn.innerText = member;
                btn.onclick = () => selectMember(member, btn);
                membersContainer.appendChild(btn);
            });
        }

        function selectMember(member, btn) {
            selectedMember = member;
            constructedStatement = `${selectedMember} - `;
            updateLog();
        }

        function setMainAction(button, action) {
            constructedStatement = `${selectedMember} - ${action}`;
            updateLog();
            document.getElementById("sub-actions").classList.remove("hidden");

            let subActions = action === "Moved" ? ["Do Pass", "Do Not Pass"] : ["Motion Passed", "Motion Failed"];
            document.getElementById("sub-actions-container").innerHTML = subActions.map(sub => 
                `<button onclick="setBillType('${sub}')">${sub}</button>`).join('');
        }

        function setBillType(subAction) {
            constructedStatement += ` - ${subAction}`;
            updateLog();
            document.getElementById("bill-type-section").classList.remove("hidden");
        }

        function appendSubAction(button, subAction) {
            constructedStatement += ` ${subAction}`;
            updateLog();
            document.getElementById("roll-call-section").classList.remove("hidden");
        }

        function adjustVote(type, amount) {
            voteCounts[type] += amount;
            document.getElementById(`vote-${type}`).innerText = voteCounts[type];
            constructedStatement = `${selectedMember} - Roll Call Vote - ${voteCounts.for}-${voteCounts.against}-${voteCounts.neutral}`;
            updateLog();
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(constructedStatement);
            document.getElementById("log").classList.add("copied");
            setTimeout(() => document.getElementById("log").classList.remove("copied"), 1000);
        }

        document.addEventListener("keydown", event => {
            if (event.ctrlKey && event.key === "Enter") copyToClipboard();
        });

        function updateLog() { document.getElementById("log").innerText = constructedStatement; }

        updateMembers();
    </script>

</body>
</html>
