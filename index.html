<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Committee Quick Actions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .buttons-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-bottom: 15px;
        }
        button {
            padding: 10px 12px;
            font-size: 14px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #007bff;
            color: white;
            transition: 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        .selected {
            background-color: #28a745 !important;
        }
        .log {
            margin-top: 15px;
            padding: 10px;
            border: 1px solid #ddd;
            width: 90%;
            max-width: 600px;
            min-height: 50px;
            background: #f9f9f9;
            font-size: 16px;
            text-align: left;
            overflow-y: auto;
            transition: background 0.3s;
        }
        .log.copied {
            background: #d4edda;
        }
        .copy-btn {
            margin-top: 10px;
            background-color: #dc3545;
        }
        .copy-btn:hover {
            background-color: #c82333;
        }
        .section {
            width: 90%;
            max-width: 600px;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            background: #f1f1f1;
            text-align: center;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <h2>Committee Quick Actions</h2>

    <div class="container">
        <label for="committeeSelect"><b>Select Committee:</b></label>
        <select id="committeeSelect" onchange="updateMembers()">
            <option value="energy">Energy & Natural Resources</option>
            <option value="judiciary">Judiciary</option>
        </select>

        <h3>Select Member:</h3>
        <div class="buttons-container" id="members-container"></div>

        <div class="section">
            <h3>Main Actions</h3>
            <div class="buttons-container">
                <button onclick="setMainAction(this, 'Moved')">Moved</button>
                <button onclick="setMainAction(this, 'Roll Call Vote on SB')">Roll Call Vote on SB</button>
                <button onclick="setMainAction(this, 'Roll Call Vote on Amendment LC#')">Roll Call Vote on Amendment LC#</button>
            </div>
        </div>

        <div class="section hidden" id="sub-actions">
            <h3>Sub Actions</h3>
            <div class="buttons-container" id="sub-actions-container"></div>
        </div>

        <div class="section hidden" id="bill-carrier-section">
            <h3>Select Bill Carrier</h3>
            <div class="buttons-container" id="bill-carrier-container"></div>
        </div>

        <button class="copy-btn" onclick="copyToClipboard()">ðŸ“‹ Copy to Clipboard</button>

        <h3>Constructed Statement:</h3>
        <div class="log" id="log">[Click a member and an action]</div>
    </div>

    <script>
        let selectedMember = "";
        let constructedStatement = "";
        let mainAction = "";
        let selectedCarrier = "";

        const committees = {
            energy: [
                "Chairman Dale Patton",
                "Vice Chairman Greg Kessel",
                "Senator Todd Beard",
                "Senator Keith Boehm",
                "Senator Mark Enget",
                "Senator Justin Gerhardt",
                "Senator Desiree Van Oosting"
            ],
            judiciary: [
                "Chairwoman Diane Larson",
                "Vice Chairman Bob Paulson",
                "Senator Jose Castaneda",
                "Senator Claire Cory",
                "Senator Larry Luick",
                "Senator Janne Myrdal",
                "Senator Ryan Braunberger"
            ]
        };

        function updateMembers() {
            const selectedCommittee = document.getElementById("committeeSelect").value;
            const membersContainer = document.getElementById("members-container");
            membersContainer.innerHTML = "";
            committees[selectedCommittee].forEach(member => {
                const btn = document.createElement("button");
                btn.innerText = member;
                btn.onclick = () => selectMember(member, btn);
                membersContainer.appendChild(btn);
            });
            resetSelections();
        }

        function selectMember(member, btn) {
            selectedMember = member;
            constructedStatement = `${selectedMember} - `;
            updateLog();
            resetSelections();
            document.querySelectorAll("#members-container button").forEach(b => b.classList.remove("selected"));
            btn.classList.add("selected");
        }

        function setMainAction(button, action) {
            if (!selectedMember) {
                alert("Please select a member first!");
                return;
            }
            mainAction = action;
            constructedStatement = `${selectedMember} - ${mainAction}`;
            updateLog();
            document.querySelectorAll(".section button").forEach(b => b.classList.remove("selected"));
            button.classList.add("selected");
            showSubActions(action);
        }

        function showSubActions(action) {
            const subActionsContainer = document.getElementById("sub-actions-container");
            subActionsContainer.innerHTML = "";
            document.getElementById("sub-actions").classList.remove("hidden");

            let subActions = [];
            if (action.includes("Moved")) {
                subActions = ["Do Pass", "Do Not Pass"];
            } else if (action.includes("Roll Call Vote")) {
                subActions = ["Motion Passed", "Motion Failed"];
            }

            subActions.forEach(subAction => {
                const btn = document.createElement("button");
                btn.innerText = subAction;
                btn.onclick = () => appendSubAction(btn, subAction);
                subActionsContainer.appendChild(btn);
            });
        }

        function appendSubAction(button, subAction) {
            constructedStatement = `${selectedMember} - ${mainAction} - ${subAction}`;
            updateLog();
            document.querySelectorAll("#sub-actions-container button").forEach(b => b.classList.remove("selected"));
            button.classList.add("selected");
            if (subAction.includes("Motion Passed") || subAction.includes("Motion Failed")) {
                showBillCarrierSelection();
            }
        }

        function showBillCarrierSelection() {
            const carrierContainer = document.getElementById("bill-carrier-container");
            carrierContainer.innerHTML = "";
            document.getElementById("bill-carrier-section").classList.remove("hidden");

            committees[document.getElementById("committeeSelect").value].forEach(member => {
                const btn = document.createElement("button");
                btn.innerText = member;
                btn.onclick = () => appendBillCarrier(btn, member);
                carrierContainer.appendChild(btn);
            });
        }

        function appendBillCarrier(button, member) {
            if (selectedCarrier === member) return;
            selectedCarrier = member;
            constructedStatement += ` - Senator ${member} Carried the Bill`;
            updateLog();
            document.querySelectorAll("#bill-carrier-container button").forEach(b => b.classList.remove("selected"));
            button.classList.add("selected");
        }

        function resetSelections() {
            document.getElementById("sub-actions").classList.add("hidden");
            document.getElementById("bill-carrier-section").classList.add("hidden");
            selectedCarrier = "";
        }

        function copyToClipboard() {
            navigator.clipboard.writeText(constructedStatement);
        }

        function updateLog() {
            document.getElementById("log").innerText = constructedStatement;
        }

        updateMembers();
    </script>

</body>
</html>
